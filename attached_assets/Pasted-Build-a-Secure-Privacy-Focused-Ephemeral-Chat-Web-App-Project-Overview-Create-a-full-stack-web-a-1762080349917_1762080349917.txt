Build a Secure, Privacy-Focused, Ephemeral Chat Web App

Project Overview:
Create a full-stack web app that allows users to chat, create temporary rooms, and share files (up to 90 MB) in real time â€” all with maximum privacy.
No chat history, no cache, no persistent user data. Everything is temporary and auto-deleted when the user leaves or closes the site.

ğŸ§± Tech Stack Requirements

Frontend:

Framework: React (TypeScript)

Styling: TailwindCSS

Real-time: Socket.IO client

File upload: Fetch API (chunked upload logic)

Features: dark/light theme toggle, sound feedback, responsive layout.

Backend:

Node.js + Express

Socket.IO for real-time communication

Redis for temporary data storage (auto-expire keys)

AWS S3 (or compatible object store like Supabase Storage) for temporary file uploads using pre-signed URLs

Helmet.js for security headers

CORS properly configured for Replit domain

dotenv for environment variables

Storage & Data Rules:

Redis used for:

active usernames

active rooms (with unique IDs)

temporary chat messages

file metadata

All Redis keys must expire automatically (e.g. 1 hour TTL).

S3 lifecycle policy deletes uploaded files within 1 hour.

âš™ï¸ Core Functional Requirements
1ï¸âƒ£ Login System

User enters a username (no passwords).

Backend checks if name is available.

Duplicate usernames are rejected.

Username stored in Redis session (expires when disconnected).

2ï¸âƒ£ Dashboard Page

After login, show:

Create Room button (generates unique ID, tags user as â€œRoom Ownerâ€)

Join Room field (enter room ID or use shared link)

Random Chat button (matches with a random online user)

Help / About links

On logout or browser close: clear Redis session and local cache.

3ï¸âƒ£ Room System

Max 35 users per room.

Room visible via unique room code or invite link:

https://yourdomain.com/?room=abc123


If someone joins through a link, redirect them to login, then auto-join the room.

When someone joins: broadcast system message

{username} joined the room


When someone leaves:

{username} left the room

4ï¸âƒ£ Messaging

Real-time text + audio message support (Socket.IO events).

Optional: emoji reactions.

Each message is stored only in memory (Redis with short TTL, e.g. 5 min).

5ï¸âƒ£ File Sharing (up to 90 MB)

Allowed types: .jpg, .jpeg, .png, .mp4, .gif, .pdf, .docx

Upload flow:

User requests permission to send file.

Recipient must accept.

Backend issues pre-signed S3 URLs for chunked upload.

Frontend uploads in 5 MB chunks via those URLs.

After completion, backend notifies recipient with temporary download URL (valid 60 sec).

File auto-deleted after 1 hour or when room expires.

No download option â€” only view inline.

Prevent right-click and dragging (UX level).

Attempting to screenshot returns a white overlay (front-end trick, not bulletproof).

6ï¸âƒ£ Random Chat

Backend maintains a queue of online users.

If user clicks â€œRandom Chat,â€ match with another waiting user.

If no users available, show message:
â€œCurrently no users are online. Try joining a room.â€

7ï¸âƒ£ Themes & Sounds

Two themes: Dark / Light.

Button clicks and message sends play small UI sounds.

Store theme preference only in session memory.

8ï¸âƒ£ Network & Exception Handling

If connection drops, show warning toast:
â€œNetwork unstable â€” trying to reconnect.â€

If upload exceeds 90 MB, show alert:
â€œFile too large â€” limit is 90 MB.â€

9ï¸âƒ£ Help / About Pages

Static pages explaining:

Purpose: â€œThis website is designed for secure, no-trace communication.â€

Developer name & contact (placeholder).

Privacy policy: â€œAll data is temporary and erased after logout.â€

ğŸ”’ Security Rules

Always use HTTPS (enforce via middleware).

Helmet + strict CSP headers.

Disable caching in all responses:

Cache-Control: no-store, no-cache, must-revalidate


All files and chat data expire in Redis or S3 automatically.

Never expose internal file URLs.

Rate-limit all upload routes.

ğŸ’¾ Auto-Deletion Logic

On logout / window close:

Socket disconnect triggers Redis key deletions (user, messages, room if empty).

Cron job (every 5 min):

Purge expired rooms and files.

S3 lifecycle:

Delete files after 1 hour.

ğŸ§© Folder Structure (Replit)
project-root/
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ server.js
â”‚   â”œâ”€â”€ socket.js
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ auth.js
â”‚   â”‚   â”œâ”€â”€ rooms.js
â”‚   â”‚   â””â”€â”€ upload.js
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ redisClient.js
â”‚   â”‚   â”œâ”€â”€ s3.js
â”‚   â”‚   â””â”€â”€ validators.js
â”‚   â””â”€â”€ .env
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.tsx
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Room.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ RandomChat.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Help.tsx
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”œâ”€â”€ public/
â”‚   â””â”€â”€ tailwind.config.js
â”‚
â”œâ”€â”€ package.json
â””â”€â”€ README.md

ğŸš€ How to Run on Replit

Create a new Node.js + React Replit project (or use â€œHTML, CSS, JSâ€ and install manually).

Install dependencies:

npm install express socket.io redis ioredis aws-sdk helmet dotenv cors uuid
cd frontend
npm install react react-dom socket.io-client tailwindcss


Set up .env with:

REDIS_URL=...
AWS_ACCESS_KEY_ID=...
AWS_SECRET_ACCESS_KEY=...
AWS_BUCKET_NAME=...


Run npm run dev or combine front + back with a Replit Nix run command.

Open preview URL to test.

ğŸ§  Extra Credit Ideas

Add client-side encryption before file upload (AES-256).

Add vanity usernames reserved for 5 minutes (prevent spam).

Add auto-translation per message (using Web Speech API).

Add ephemeral voice call (WebRTC).

âš–ï¸ Constraints

No persistent user accounts or saved history.

No download/screenshot support (front-end protection only).

Everything should self-delete within 1 hour of inactivity.

Goal:
Deliver a functional, responsive, privacy-focused chat app where users can log in with just a name, create or join rooms, send messages and files (with consent), and have all traces erased automatically on exit.